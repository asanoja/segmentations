ensurePackage("guardian.r2");ensurePackage("guardian.r2");guardian.r2.browser={isWebKit:navigator.userAgent.indexOf("AppleWebKit/")>-1};var is_ie=jQ.browser.msie;if(is_ie){var ie_version=parseInt(jQ.browser.version);guardian.r2.browser["isIE"+ie_version]=true}(function(){var a=document.documentElement;if(typeof a.className==="string")a.className+=" js-on";else a.className="js-on"})();
function addEvent(a,e,b){if(typeof a==="string")a=document.getElementById(a);if(e==="load"){loadEventList.addLoadEvent(b);return true}if(!a)return null;if(a.addEventListener){a.addEventListener(e,b,false);return true}else if(a.attachEvent){var d=a.attachEvent("on"+e,b);return d}else return false}var loadEventList=[];loadEventList.addLoadEvent=function(a){if(loadEventList.hasFired)a();else loadEventList[loadEventList.length]=a};loadEventList.hasFired=false;
loadEventList.fireLoadEvents=function(){for(var a=0;a<loadEventList.length;a++)loadEventList[a]();loadEventList.hasFired=true};
if(guardian.r2.browser.isWebKit)var _timer=setInterval(function(){if(/loaded|complete/.test(document.readyState)){clearInterval(_timer);loadEventList.fireLoadEvents()}},100);else if(document.addEventListener)document.addEventListener("DOMContentLoaded",loadEventList.fireLoadEvents,false);else if(is_ie){document.write("<script id='__ie_onload' defer='defer' src='//:'><\/script>");var script=document.getElementById("__ie_onload");script.onreadystatechange=function(){if(this.readyState=="complete")loadEventList.fireLoadEvents()}}
var safeLoadEventList=[];function addSafeLoadEvent(a){if(!(guardian.r2.browser.isIE6||guardian.r2.browser.isIE7)){addEvent(document,"load",a);return true}else{safeLoadEventList.push(a);return true}}safeLoadEventList.hasFired=false;safeLoadEventList.fireLoadEvents=function(){for(var a=0;a<safeLoadEventList.length;a++)safeLoadEventList[a]();safeLoadEventList.hasFired=true};if(guardian.r2.browser.isIE6||guardian.r2.browser.isIE7)window.attachEvent("onload",safeLoadEventList.fireLoadEvents);
function writeScript(a,e,b){if(e){jQ.ajaxSetup({cache:true});jQ.getScript(a,b)}else{document.write('<script type="text/javascript" src="'+a+'"></scr'+"ipt>");document.close()}}function addClickListenersToMatchingElements(a,e,b){var d=guardian.r2.dom.element.getElementsByCssSelector(e,a);for(var c=0;c<d.length;c++)addEvent(d[c],"click",b)}function classNameRegex(a){return new RegExp("( |^)"+a+"( |$)")}
function removeClassName(a,e){a.className=a.className.replace(classNameRegex(e)," ").replace(/(^\s*|\s*$)/g,"")}function calculateXForCentredPopup(a){var e=0;if(screen.availWidth>a)e=Math.round((screen.availWidth-a)/2);return e}
function openScorePopup(a){if(guardian.r2.browser.isIE6||guardian.r2.browser.isIE7){var e=405;var b=767}else{e=400;b=747}var d=0;window.open(a,"_blank","resizable=yes,scrollbars=yes,location=no,toolbar=no,status=no,top=0,screenY=0,left="+d+",screenX="+d+",height="+e+",width="+b);return false}function popUpNewWindow(a,e,b){newwindow=window.open(a,"sponsor","height="+b+",width="+e+",scrollbars=yes,location=yes,toolbar=yes,status=yes,resizable=yes");if(window.focus)newwindow.focus();return false}
function GUopenParent(a){if(window.opener)window.opener.location=a;else location=a}function readCookie(a){var e=a+"=";var b=document.cookie.split(";");for(var d=0;d<b.length;d++){for(var c=b[d];c.charAt(0)==" ";)c=c.substring(1,c.length);if(c.indexOf(e)===0)return c.substring(e.length,c.length)}return null}function createCookie(a,e,b){if(b){var d=new Date;d.setTime(d.getTime()+b*24*60*60*1E3);var c="; expires="+d.toGMTString()}else c="";document.cookie=a+"="+e+c+"; path=/"}
function createCookieForCurrentPath(a,e,b){if(b){var d=new Date;d.setTime(d.getTime()+b*24*60*60*1E3);var c="; expires="+d.toGMTString()}else c="";document.cookie=a+"="+e+c}function isUserLoggedIntoRegPss(){return readCookie("GU_ME")!=null}
function getScrollPosition(){var a;var e;if(self.pageYOffset){a=self.pageXOffset;e=self.pageYOffset}else if(document.documentElement&&document.documentElement.scrollTop){a=document.documentElement.scrollLeft;e=document.documentElement.scrollTop}else if(document.body){a=document.body.scrollLeft;e=document.body.scrollTop}return{x:a,y:e}}
function getCenterPosition(){var a;var e;if(self.innerHeight){a=self.innerWidth;e=self.innerHeight}else if(document.documentElement&&document.documentElement.clientHeight){a=document.documentElement.clientWidth;e=document.documentElement.clientHeight}else if(document.body){a=document.body.clientWidth;e=document.body.clientHeight}return{x:a,y:e}}function getScrollAndCenterPosition(){var a=getScrollPosition();var e=getCenterPosition();return{scrollX:a.x,scrollY:a.y,centerX:e.x,centerY:e.y}}
function getAncestorOfType(a,e){if(!a.tagName)return null;else return a.tagName.toLowerCase()===e?a:getAncestorOfType(a.parentNode,e)}function arrayIndexOf(a,e){for(var b=0;b<a.length;b++)if(a[b]===e)return b;return-1}function isArray(a){return a&&typeof a==="object"&&typeof a.length==="number"&&typeof a.splice==="function"&&!a.propertyIsEnumerable("length")}function arrayContains(a,e){for(var b=0;b<a.length;b++)if(a[b]===e)return true;return false}
function forEachElementOf(a,e){var b=a.length;for(var d=0;d<b;d++)e(a[d],d)}function toggleHideOnPopupElements(a){var e=jQ(".hide-on-popup");e.css({"visibility":a})};var applyImageMaskImmediate;var applyFullScreenImageMask;var removeFullScreenImageMask;var ensureElementHasLayoutInIE6;
(function(){function a(g,m,k){function n(y){return{url:y,width:m,height:k}}var r=g.toLowerCase();if(m>=140&&k>=84)if(guardian.r2.browser.isIE6)return{url:b+r+"_140ie6.png",width:140,height:84};else return{url:b+r+"_140.png",width:140,height:84};return null}function e(g){var m=document.createElement("div");m.style.width=g.width+"px";m.style.height=g.height+"px";m.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+g.url+"',sizingMethod='scale')";m.style.position="absolute";m.style.left=
String(-g.leftOffset);m.style.top=String(-g.topOffset);m.style.zIndex="100";return m}var b=commonStaticRoot+"styles/images/";var d=function(g,m){m.leftOffset=m.topOffset=0;var k=e(m);k.className="mask";g.style.position="relative";g.style.display="block";ensureElementHasLayoutInIE6(g);g.appendChild(k);if(document.getElementById("content")){document.getElementById("content").style.display="none";document.getElementById("content").style.display="block"}return k};var c=function(g,m,k){m.style.display=
"block";m.style.position="relative";var n=g.cloneNode(false);n.style.width=k.width+"px";n.style.height=k.height+"px";n.setAttribute("src",k.url);n.className="mask";n.setAttribute("alt","");m.appendChild(n);return n};getNumberPropertyValue=function(g,m){var k=Number(g.getAttribute(m));if(k===0){if(document.defaultView&&document.defaultView.getComputedStyle)k=document.defaultView.getComputedStyle(g,"").getPropertyValue(m);else if(g.currentStyle)k=g.currentStyle[m];if(k!==null)k=parseInt(k.replace("px",
""),10)}if(!isNaN(k)&&k!==null)return k;else return 0};applyImageMaskImmediate=function(g,m){var k=g.parentNode;var n=getNumberPropertyValue(g,"width");var r=getNumberPropertyValue(g,"height");var y=a(m,n,r);if(y)if(guardian.r2.browser.isIE6||guardian.r2.browser.isIE7)return d(k,y);else return c(g,k,y)};var f=function(g,m){var k=e(m);ensureElementHasLayoutInIE6(g);g.insertBefore(k,g.firstChild);return k};applyFullScreenImageMask=function(g){if(guardian.r2.browser.isIE6){document.body.parentNode.style.overflow=
"hidden";var m=document.getElementById(g);var k=m.offsetParent.offsetLeft;var n=document.body;return f(m,{url:b+"white-bg.png",width:document.documentElement.clientWidth,height:n.clientHeight,leftOffset:k,topOffset:0})}};removeFullScreenImageMask=function(){document.body.parentNode.style.overflow=""};ensureElementHasLayoutInIE6=function(g){if(!g.currentStyle.hasLayout)g.style.zoom="1"}})();function ensurePackage(a,e){var b=a.split(".");var d=this;for(var c=0;c<b.length;c+=1){var f=b[c];if(!d[f])d[f]={};d=d[f]}if(e)e(d);return d}function trim(a){return ltrim(rtrim(a))}function ltrim(a){return a.replace(/^\s+/,"")}function leftTrim(a){return a.replace(new RegExp(/^\s*/g),"")}function rtrim(a){return a.replace(/\s+$/,"")}
function stripParamFromUrl(a,e){var b="=[\\w\\-]*";var d=e.replace(new RegExp("\\?"+a+b+"$"),"");d=d.replace(new RegExp("\\?"+a+b+"&"),"?");d=d.replace(new RegExp("&"+a+b),"");return d}function isNumber(a){return typeof a==="number"}function delegateErrorHandler(a,e){a.errorHandler=e.errorHandler}function isValidUrl(a){var e=/(http:\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;return e.test(a)}
function appendParameter(a,e){if(a.indexOf("?")!==-1)return a+"&"+e;else return a+"?"+e}function isArray(a){return a!=null&&typeof a=="object"&&"splice"in a&&"join"in a};var hoursToCount=0;var timeOut=720;var maxAdCount=100;var showAdsOnNthVideo=2;
function buildIntrusiveAd(a,e,b,d,c,f,g,m,k,n,r){var y=document.cookie;var z=y.indexOf("GUDHTMLAds=");if(z==-1){var w=180;var G=new Date;var B=G.getTime();G.setTime(B+w*1E3);document.cookie="GUDHTMLAds=Dummy; expires="+G.toGMTString()+" ; path=/ ; domain=guardian.co.uk";var C="<"+'script type="text/javascript" src="'+a+"/js.ng/spacedesc=01&amp;comfolder="+d+"&amp;keywords="+c+"&amp;bandwidth="+e+"&amp;rand="+b+"&amp;site="+g+"&amp;url="+f+"&amp;system="+m+"&amp;blockVideoAds="+k+"&amp;partnerid="+
r;if(typeof n!=="undefined")C+="&amp;tile="+n;C+='"></'+"script>";document.write(C);document.close()}}function insertAsyncAd(a,e){jQ(a).writeCapture().replaceWith(e)}function isVideoAdDisplayed(){return true};ensurePackage("guardian.r2");
(function(){function a(){var d=false;for(var c=0;c<b.length;c++){try{d=b[c]()}catch(f){continue}break}return d}function e(d,c){var f=a();var g=c.method?c.method.toLowerCase():"get";var m=null;if(g==="get"&&c.parameters)d+=(d.indexOf("?")===-1?"?":"&")+c.parameters;else m=c.parameters;f.onreadystatechange=function(){if(f.readyState!==4)return;if(f.status===200)c.onSuccess(f);else c.onFailure(f)};f.open(g,d,true);if(g==="post")f.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");f.send(m)}
var b=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];guardian.r2.ajax={Request:e}})();function indeed_clk(a,e){var b=a.href;var d=b.indexOf("&jsa=");if(d>0)return;var c=b+"&jsa="+e;a.href=c};jQ(document).ready(function(){function a(){if(jQ.cookie(d)=="false"){jQ(".off").show();jQ(".on").hide()}else{jQ(".on").show();jQ(".off").hide()}}function e(){jQ.cookie(b,true);if(jQ.cookie(b)){jQ.cookie(b,null);jQ(".cookied").show();jQ(".not-cookied").hide()}else{jQ(".not-cookied").show();jQ(".cookied").hide()}}var b="GU_TEST_COOKIE";var d="GU_VIDEO_SETTINGS";date=new Date;date.setTime(date.getTime()+30*24*60*60*1E3);var c={path:"/",expires:date};jQ(".autoplay-on").click(function(){jQ.cookie(d,"true",
c);a();jQ("a.close-toolbox-settings").focus();return false});jQ(".autoplay-off").click(function(){jQ.cookie(d,"false",c);a();jQ("a.close-toolbox-settings").focus();return false});e();a()});jQ(document).ready(function(){if(jQ("li.pixie")){var a=jQ("li.pixie");jQ(a).mouseenter(function(){jQ(this).find("div.trail-text").stop(true,true).slideDown("fast")});jQ(a).mouseleave(function(){jQ(this).find("div.trail-text").stop(true,true).slideUp("fast")})}});ensurePackage("guardian.r2.DateUtil");guardian.r2.DateUtil.myParseDate=function(a){return new Date(Date.parse(a.replace(/(\d\d?:\d\d?:\d\d?)(:\d?\d?\d?)?/,"$1")))};guardian.r2.DateUtil.formatDate=function(a,e){var b=guardian.r2.DateUtil.myParseDate(a);var d=guardian.r2.DateUtil.myParseDate(e);var c=guardian.r2.DateUtil.relativeTimeDifference(b.toUTCString(),d.toUTCString());if(c!==""){if(c.indexOf("hour")>0)c="about "+c;c=" ("+c+")"}return b.formatDate("d M y, g:ia")+c};
guardian.r2.DateUtil.formatDateFromISO=function(a,e){var b=a.split("T");var d=b[0].replace(/-/g,"/");var c=new Date(d+" "+b[1]);var f=new Date(e);var g=guardian.r2.DateUtil.relativeTimeDifference(c.toUTCString(),f.toUTCString());if(g!=="")return g;else return c.formatDate("d M y, g:ia")};
guardian.r2.DateUtil.relativeTimeDifference=function(a,e){var b=guardian.r2.DateUtil.myParseDate(a);var d=guardian.r2.DateUtil.myParseDate(e);var c="";var f=d.getTime()-b.getTime();if(f<60*60*1E3){var g=Math.round(f/(1E3*60));if(g>1)c=g+" minutes ago";else c="1 minute ago"}else if(Math.round(f/(1E3*60*60))<24){var m=Math.round(f/(1E3*60*60));if(m>1)c=m+" hours ago";else c=m+" hour ago"}return c};
guardian.r2.DateUtil.formatToISO=function(a){var e=function(d){return d>9?d:"0"+d};var b=new Date(a);return b.getFullYear()+"-"+e(b.getMonth()+1)+"-"+e(b.getDate())};ensurePackage("guardian.r2");
guardian.r2.DialogBox=function(){function a(f,g){var m=/^\s*$/;if(e(f))return!d;return!d&&m.test(g.innerHTML)}function e(f){return!(f.parentNode===document.body)}function b(f,g){var m;var k;var n;var r;switch(g){case "height":m=f.offsetHeight;n=getNumberPropertyValue(f,"marginTop")+getNumberPropertyValue(f,"marginBottom");return m+n;case "width":r=f.offsetWidth;k=getNumberPropertyValue(f,"paddingLeft")+getNumberPropertyValue(f,"paddingRight");n=getNumberPropertyValue(f,"marginLeft")+getNumberPropertyValue(f,
"marginRight");return r+k+n}}var d=false;var c=this;this.showDialogBox=function(f,g,m,k){if(guardian.r2.browser.isIE6)document.body.parentNode.style.overflow="hidden";m=m?m:false;c.positionDialogBox(f,g,m,k);g.style.display="block";if(guardian.r2.browser.isIE6){g.style.background="none";if(a(f,g)){applyFullScreenImageMask(g.id);d=true}else{g.firstChild.style.width=document.body.clientWidth+"px";leftOffset=g.offsetParent.offsetLeft;g.firstChild.style.left="-"+leftOffset+"px"}}toggleHideOnPopupElements("hidden")};
this.hideDialogBox=function(f){if(guardian.r2.browser.isIE6)removeFullScreenImageMask();toggleHideOnPopupElements("visible")};this.positionDialogBox=function(f,g,m,k){var n=getCenterPosition();var r=getScrollPosition();var y=0;var z=n.x;if(guardian.r2.browser.isIE6){g.style.position="absolute";f.style.position="absolute"}g.style.visibility="hidden";g.style.display="block";f.style.visibility="hidden";f.style.display="block";var w=b(f,"width");if(guardian.r2.browser.isIE6)if(e(f)){y=getNumberPropertyValue(document.getElementById("wrapper"),
"width");if(y<z)z=y}var G=z/2;var B=w/2;var C=Math.round(G-B);g.style.top="0px";g.style.left="0px";f.style.left=C+"px";var Q=b(f,"height");var K=n.y;var U=r.y;var I=5;if(Q<K)I=(K-Q)/2;if(guardian.r2.browser.isIE6||m)I+=U;f.style.top=I+"px";f.style.visibility="";g.style.visibility="";g.style.display="none";if(k&&k===true)g.style.zIndex="-1"};this.createCloseLink=function(f,g){function m(){f.style.display="none";g.style.display="none";c.hideDialogBox(g)}var k=f.id+"-close-link";if(!document.getElementById(k)){var n=
document.createElement("a");n.href="#";n.innerHTML="close";n.id=k;n.className="close";addEvent(n,"click",m);var r=document.createElement("p");r.className="toolbox";r.appendChild(n);f.insertBefore(r,f.firstChild)}}};ensurePackage("guardian.r2");
guardian.r2.dom={element:new function(){function a(c){var f=new RegExp("(^| )"+c+"( |$)");return function(g){return f.test(g.className)}}var e=this;this.hasClassName=function(c,f){return a(f)(c)};this.addClassName=function(c,f){if(!e.hasClassName(c,f)){c.className+=" "+f;c.className=c.className.replace(/^\s|\s$/,"")}};this.getElementsByCssSelector=function(c,f){if(isArray(c)){var g=[];var m=c.length;for(var k=0;k<m;k++)g=g.concat(b(c[k],f));return g}return b(c,f)};var b=function(c,f){var g=c.split(" ");
var m=g[0];var k=g.slice(1).join(" ");var n=m.split(".");var r=n[0];var y=n[1];var z=e.getElementsByClassName(y,r,f);if(k){var w=[];var G=z.length;var B=e.getElementsByCssSelector;for(var C=0;C<G;C++)w=w.concat(B(k,z[C]));return w}return z};this.getElementsByClassName=function(c,f,g){g=g?g:document;c=c?c:null;if(!!document.evaluate&&c){var m;if(f)m=".//"+f+"[contains(concat(' ', @class, ' '), ' "+c+" ')]";else m=".//*[contains(concat(' ', @class, ' '), ' "+c+" ')]";var k=document.evaluate(m,g,null,
XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);var n=[];var r=0;for(var y=k.snapshotLength;r<y;r++)n.push(k.snapshotItem(r));return n}f=f?f:"*";var z=g.getElementsByTagName(f);if(c){var w=[];var G=z.length;var B=a(c);for(r=0;r<G;r++)if(B(z[r]))w.push(z[r]);return w}return d(z)};var d=function(c){var f=c.length;for(var g=[];f--;)g[f]=c[f];return g}},form:new function(){var a=this;var e=["input","textarea","select"];this.serializeForm=function(b){var d=[];for(var c=0;c<e.length;c++){var f=b.getElementsByTagName(e[c]);
for(var g=0;g<f.length;g++){var m=f[g];if(!m.disabled&&m.name)d.push(a.serialize(m))}}var k=b.action;return d.join("&")};this.serialize=function(b){var d=b.tagName.toLowerCase();var c=null;switch(d){case "textarea":c=b.value;break;case "input":switch(b.type.toLowerCase()){case "radio":case "checkbox":c=b.checked?b.value:null;break;default:c=b.value;break}break;case "select":var f=[];for(var g=0;g<b.options.length;g++)if(b.options[g].selected){f.push(b.options[g].value?b.options[g].value:b.options[g].text);
if(!b.multiple)break}if(f.length>0)c=f.join(",")}if(c!==null)return encodeURIComponent(b.name)+"="+encodeURIComponent(c)}}};ensurePackage("guardian.r2");guardian.r2.event={stop:function(a){a=a||window.event;if(a.preventDefault)a.preventDefault();else a.returnValue=false;if(a.stopPropagation)a.stopPropagation();else a.cancelBubble=true},getElement:function(a){if(!a.target)a.target=a.srcElement||document;if(a.target.nodeType==3)a.target=a.target.parentNode;return a.target}};addEvent(window,"load",GUgetUrl);function GUgetUrl(){if(!document.getElementById("go-to"))return;var a=document.getElementById("go-to");for(var e=0;e<a.length;e++)a.onchange=function(){window.location=this.value}};google_ad_output="js";google_ad_type="text";google_language="en";google_encoding="utf8";google_safe="high";google_feedback="on";
function google_ad_request_done(a){function e(){var f=document.getElementById("google-ads-container");if(f){f.innerHTML=d;f.style.display="block"}}var b='<a class="ad_attribution" href="'+google_info.feedback_url+'">Ads by Google</a>';if(a.length==0)return;var d="";var c="h2";if(jQ("#google-ads-container").hasClass("promo-component"))c="h3";if(a[0].type=="text"){d+='<div class="hd">';d+="<"+c+">";d+=b;d+="</"+c+"></div>";d+='<div class="bd"><ul class="l1d">';for(i=0;i<a.length;++i){d+="<li>";d+='<p class="t6"><a target="_TOP" href="'+
a[i].url+'">'+a[i].line1+"</a></p>";d+="<p>"+a[i].line2+" "+a[i].line3+"</p>";d+='<p><a target="_TOP" href="'+a[i].url+'">'+a[i].visible_url+"</a></p>";d+="</li>"}d+="</ul></div>"}if(loadEventList.hasFired)e();else addEvent(document,"load",e);return};(function(a){a.fn.ajaxoverlay=function(e){var b={"overlay":true,"background":"#000","showclosebutton":true,"recursiveselector":false,"width":"450","height":"","extraclass":"","opacity":0.7,"columnwidth":"","closebuttonselector":"","source":"","dobeforeopen":function(){},"doafteropen":function(){},"dobeforeclose":function(){},"doafterclose":function(){},"form":{selector:"",trigger:"",url:"",customField:""},"debugmode":false};var d;var c="ajax-overlay-bg";var f="ajax-popup-window";var g="ajax-close-button";
var m="ajaxoverlay-formresponse-temp";var k={debug:function(n){if(b.debugmode)console.log(n)},init:function(n){var r=this;k.debug("initialising overlay");if(!b.source&&!b.form.selector){var y=a(n).attr("href");k.spawnOverlay();a.ajax({type:"get",url:y,success:function(G){k.spawnPopup(G,k.bindEvents)},error:function(){k.removeEverything(false)}})}else if(b.source){k.spawnOverlay();k.spawnPopup(a(b.source),k.bindEvents)}else if(b.form.selector){var z=a(b.form.selector);var w=z.attr("action");if(b.form.url)w=
b.form.url;if(b.form.trigger)a(b.form.trigger).bind("click",function(){k.interceptFormViaAjax(z,w)});else z.live("submit",function(){k.interceptFormViaAjax(z,w)})}k.guSpecific("hidden");return r.preventDefault()},interceptFormViaAjax:function(n,r){k.debug("submitting form via ajax");var y=n.serialize();if(b.form.customField)y+="&"+b.form.customField+"=1";a.ajax({url:r,data:y,type:n.attr("method"),success:function(z){var w=a("#"+m);w.remove();w=a("<div/>",{html:z,id:m}).appendTo("body");k.spawnOverlay();
k.spawnPopup(w,k.bindEvents)},error:function(){k.removeEverything(false)}});return false},spawnOverlay:function(){k.removeEverything(true);if(b.overlay){k.debug("creating background overlay");if(b.extraclass!=="")b.extraclass=" "+b.extraclass;var n=a(document).height();var r=a("<div/>").addClass(c+" "+b.extraclass);r.css({"background":b.background,"height":n+"px"}).fadeTo(0,b.opacity);r.prependTo("body")}},spawnPopup:function(n,r){k.debug("adding popup and positioning it onscreen");var y=a("body").children().first();
if(b.overlay)y="div."+c;var z=f+" "+b.extraclass+" "+b.columnwidth;var w=a("<div/>").addClass(z);var G={width:b.width+"px"};if(b.columnwidth)G.width="";if(b.height)G.height=b.height+"px";w.insertBefore(y).css(G).hide();var B=a(n);B.appendTo(w);w.show();if(b.dobeforeopen)b.dobeforeopen.call(d);if(b.source)a(b.source).show();var C=(a(window).height()-w.outerHeight())/2+a(window).scrollTop()+"px";var Q=(a(window).width()-w.outerWidth())/2+a(window).scrollLeft()+"px";w.css({top:C,left:Q}).show();if(b.showclosebutton){var K=
a('<div><a href="#">x</a></div>').addClass(g);w.prepend(K)}w.attr("tabindex","-1").focus();if(typeof r==="function")r.call(this)},bindEvents:function(){k.debug("binding click events for close buttons etc");if(b.recursiveselector)a("div."+f+" "+b.recursiveselector).ajaxoverlay(e);a("div."+g+" a").click(function(n){k.removeEverything(true);return n.preventDefault()});if(b.overlay)a("div."+c).click(function(n){k.removeEverything(true);return n.preventDefault()});if(b.closebuttonselector)a(b.closebuttonselector).click(function(n){k.removeEverything(true);
return n.preventDefault()});a(document).keydown(function(n){if(n.keyCode===27)k.removeEverything(true)});if(b.doafteropen)b.doafteropen.call(d)},removeEverything:function(n){k.debug("removing overlay elements from page and unbinding events");if(b.dobeforeclose&&n)b.dobeforeclose.call(d);a("."+f+", ."+c).remove();a(document).unbind("keydown");k.guSpecific("visible");return false},guSpecific:function(n){k.debug("guSpecific = "+n);if(typeof toggleHideOnPopupElements==="function")toggleHideOnPopupElements(n)}};
return this.each(function(){if(e)a.extend(b,e);var n=a(this);n.mousedown(function(r){k.debug("user has clicked on element");d=n;return k.init.call(r,d)})})}})(jQuery);jQ(document).ready(function(){jQ("a.shower").click(function(){if(jQ("body.clippings").length)theParent=".show-more";else theParent="ul";if(jQ(this).hasClass("football-leagues")){list=jQ(this).attr("href");jQ(this).toggleClass("open");jQ("ul"+list).toggle()}else jQ(this).toggleClass("open").parents(theParent).filter(":first").next().toggle();return false})});ensurePackage("guardian.r2.omniture");var omnitracker=omnitracker||{};omnitracker.omniTrackEVar=function(a,e,b,d){omnitracker.omniTrackEVarEvent(a,a,e,b,d)};omnitracker.omniTrackEVarEvent=function(a,e,b,d,c){jQ(c).click(function(){if(guardian.r2.omniture.isAvailable()){var f="eVar"+a;var g="event"+e;s.linkTrackVars=f+",events";s.linkTrackEvents=g;s.events=g;s[f]=b;s.tl(this,"o",d)}})};var postLoadImage=function postLoadImageFactory(){function e(c,f){d[c]=f;document.getElementById(c).src=f}function b(){for(var c in d)if(d.hasOwnProperty(c))document.getElementById(c).src=d[c]}var d={};addEvent(window,"load",b);return e}();
var applyImageMask=function applyImageMaskFactory(){function e(c,f){d[c]=f;if(d.hasOwnProperty(c)){var g=document.getElementById(c);var m=g.parentNode;var k=m.nodeName;if(k.match(/^a$|^div/i)&&m.lastChild.className!=="mask"){f=d[c];applyImageMaskImmediate(g,f)}}}function b(){for(var c in d)if(d.hasOwnProperty(c)){var f=document.getElementById(c);var g=f.parentNode;var m=g.nodeName;if(m.match(/^a$|^div/i)&&g.lastChild.className!=="mask"){var k=d[c];applyImageMaskImmediate(f,k)}}}var d={};addEvent(window,
"load",b);return e}();function searchWeb(a,e,b){var d=document.getElementById("web-search-field");var c=document.getElementById("searchbeta");if(document.getElementById("search-web")&&(document.getElementById("search-web").selected||document.getElementById("search-web").checked))c.action=a;else if(c.action==a)c.action=e;if(document.getElementById("search-contributions")&&(document.getElementById("search-contributions").selected||document.getElementById("search-contributions").checked))c.action=b;else if(c.action==b)c.action=
e;return true};var swfobject=function(){function a(){if(P)return;try{var h=t.getElementsByTagName("body")[0].appendChild(C("span"));h.parentNode.removeChild(h)}catch(j){return}P=true;var l=V.length;for(var o=0;o<l;o++)V[o]()}function e(h){if(P)h();else V[V.length]=h}function b(h){if(typeof J.addEventListener!=A)J.addEventListener("load",h,false);else if(typeof t.addEventListener!=A)t.addEventListener("load",h,false);else if(typeof J.attachEvent!=A)Q(J,"onload",h);else if(typeof J.onload=="function"){var j=J.onload;
J.onload=function(){j();h()}}else J.onload=h}function d(){if(ca)c();else f()}function c(){var h=t.getElementsByTagName("body")[0];var j=C(L);j.setAttribute("type",W);var l=h.appendChild(j);if(l){var o=0;(function(){if(typeof l.GetVariable!=A){var q=l.GetVariable("$version");if(q){q=q.split(" ")[1].split(",");p.pv=[parseInt(q[0],10),parseInt(q[1],10),parseInt(q[2],10)]}}else if(o<10){o++;setTimeout(arguments.callee,10);return}h.removeChild(j);l=null;f()})()}else f()}function f(){var h=N.length;if(h>
0)for(var j=0;j<h;j++){var l=N[j].id;var o=N[j].callbackFn;var q={success:false,id:l};if(p.pv[0]>0){var u=B(l);if(u)if(K(N[j].swfVersion)&&!(p.wk&&p.wk<312)){I(l,true);if(o){q.success=true;q.ref=g(l);o(q)}}else if(N[j].expressInstall&&m()){var v={};v.data=N[j].expressInstall;v.width=u.getAttribute("width")||"0";v.height=u.getAttribute("height")||"0";if(u.getAttribute("class"))v.styleclass=u.getAttribute("class");if(u.getAttribute("align"))v.align=u.getAttribute("align");var D={};var x=u.getElementsByTagName("param");
var H=x.length;for(var E=0;E<H;E++)if(x[E].getAttribute("name").toLowerCase()!="movie")D[x[E].getAttribute("name")]=x[E].getAttribute("value");k(v,D,l,o)}else{n(u);if(o)o(q)}}else{I(l,true);if(o){var F=g(l);if(F&&typeof F.SetVariable!=A){q.success=true;q.ref=F}o(q)}}}}function g(h){var j=null;var l=B(h);if(l&&l.nodeName=="OBJECT")if(typeof l.SetVariable!=A)j=l;else{var o=l.getElementsByTagName(L)[0];if(o)j=o}return j}function m(){return!X&&K("6.0.65")&&(p.win||p.mac)&&!(p.wk&&p.wk<312)}function k(h,
j,l,o){X=true;aa=o||null;da={success:false,id:l};var q=B(l);if(q){if(q.nodeName=="OBJECT"){T=r(q);Y=null}else{T=q;Y=l}h.id=ea;if(typeof h.width==A||!/%$/.test(h.width)&&parseInt(h.width,10)<310)h.width="310";if(typeof h.height==A||!/%$/.test(h.height)&&parseInt(h.height,10)<137)h.height="137";t.title=t.title.slice(0,47)+" - Flash Player Installation";var u=p.ie&&p.win?"ActiveX":"PlugIn";var v="MMredirectURL="+J.location.toString().replace(/&/g,"%26")+"&MMplayerType="+u+"&MMdoctitle="+t.title;if(typeof j.flashvars!=
A)j.flashvars+="&"+v;else j.flashvars=v;if(p.ie&&p.win&&q.readyState!=4){var D=C("div");l+="SWFObjectNew";D.setAttribute("id",l);q.parentNode.insertBefore(D,q);q.style.display="none";(function(){if(q.readyState==4)q.parentNode.removeChild(q);else setTimeout(arguments.callee,10)})()}y(h,j,l)}}function n(h){if(p.ie&&p.win&&h.readyState!=4){var j=C("div");h.parentNode.insertBefore(j,h);j.parentNode.replaceChild(r(h),j);h.style.display="none";(function(){if(h.readyState==4)h.parentNode.removeChild(h);
else setTimeout(arguments.callee,10)})()}else h.parentNode.replaceChild(r(h),h)}function r(h){var j=C("div");if(p.win&&p.ie)j.innerHTML=h.innerHTML;else{var l=h.getElementsByTagName(L)[0];if(l){var o=l.childNodes;if(o){var q=o.length;for(var u=0;u<q;u++)if(!(o[u].nodeType==1&&o[u].nodeName=="PARAM")&&!(o[u].nodeType==8))j.appendChild(o[u].cloneNode(true))}}}return j}function y(h,j,l){var o;var q=B(l);if(p.wk&&p.wk<312)return o;if(q){if(typeof h.id==A)h.id=l;if(p.ie&&p.win){var u="";for(var v in h)if(h[v]!=
Object.prototype[v])if(v.toLowerCase()=="data")j.movie=h[v];else if(v.toLowerCase()=="styleclass")u+=' class="'+h[v]+'"';else if(v.toLowerCase()!="classid")u+=" "+v+'="'+h[v]+'"';var D="";for(var x in j)if(j[x]!=Object.prototype[x])D+='<param name="'+x+'" value="'+j[x]+'" />';q.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+u+">"+D+"</object>";Z[Z.length]=h.id;o=B(h.id)}else{var H=C(L);H.setAttribute("type",W);for(var E in h)if(h[E]!=Object.prototype[E])if(E.toLowerCase()==
"styleclass")H.setAttribute("class",h[E]);else if(E.toLowerCase()!="classid")H.setAttribute(E,h[E]);for(var F in j)if(j[F]!=Object.prototype[F]&&F.toLowerCase()!="movie")z(H,F,j[F]);q.parentNode.replaceChild(H,q);o=H}}return o}function z(h,j,l){var o=C("param");o.setAttribute("name",j);o.setAttribute("value",l);h.appendChild(o)}function w(h){var j=B(h);if(j&&j.nodeName=="OBJECT")if(p.ie&&p.win){j.style.display="none";(function(){if(j.readyState==4)G(h);else setTimeout(arguments.callee,10)})()}else j.parentNode.removeChild(j)}
function G(h){var j=B(h);if(j){for(var l in j)if(typeof j[l]=="function")j[l]=null;j.parentNode.removeChild(j)}}function B(h){var j=null;try{j=t.getElementById(h)}catch(l){}return j}function C(h){return t.createElement(h)}function Q(h,j,l){h.attachEvent(j,l);R[R.length]=[h,j,l]}function K(h){var j=p.pv;var l=h.split(".");l[0]=parseInt(l[0],10);l[1]=parseInt(l[1],10)||0;l[2]=parseInt(l[2],10)||0;return j[0]>l[0]||j[0]==l[0]&&j[1]>l[1]||j[0]==l[0]&&j[1]==l[1]&&j[2]>=l[2]?true:false}function U(h,j,l,
o){if(p.ie&&p.mac)return;var q=t.getElementsByTagName("head")[0];if(!q)return;var u=l&&typeof l=="string"?l:"screen";if(o){M=null;ba=null}if(!M||ba!=u){var v=C("style");v.setAttribute("type","text/css");v.setAttribute("media",u);M=q.appendChild(v);if(p.ie&&p.win&&typeof t.styleSheets!=A&&t.styleSheets.length>0)M=t.styleSheets[t.styleSheets.length-1];ba=u}if(p.ie&&p.win){if(M&&typeof M.addRule==L)M.addRule(h,j)}else if(M&&typeof t.createTextNode!=A)M.appendChild(t.createTextNode(h+" {"+j+"}"))}function I(h,
j){if(!fa)return;var l=j?"visible":"hidden";if(P&&B(h))B(h).style.visibility=l;else U("#"+h,"visibility:"+l)}function ga(h){var j=/[\\\"<>\.;]/;var l=j.exec(h)!=null;return l&&typeof encodeURIComponent!=A?encodeURIComponent(h):h}var A="undefined";var L="object";var ha="Shockwave Flash";var la="ShockwaveFlash.ShockwaveFlash";var W="application/x-shockwave-flash";var ea="SWFObjectExprInst";var ia="onreadystatechange";var J=window;var t=document;var O=navigator;var ca=false;var V=[d];var N=[];var Z=
[];var R=[];var T;var Y;var aa;var da;var P=false;var X=false;var M;var ba;var fa=true;var p=function(){var h=typeof t.getElementById!=A&&typeof t.getElementsByTagName!=A&&typeof t.createElement!=A;var j=O.userAgent.toLowerCase();var l=O.platform.toLowerCase();var o=l?/win/.test(l):/win/.test(j);var q=l?/mac/.test(l):/mac/.test(j);var u=/webkit/.test(j)?parseFloat(j.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false;var v=!+"\u000b1";var D=[0,0,0];var x=null;if(typeof O.plugins!=A&&typeof O.plugins[ha]==
L){x=O.plugins[ha].description;if(x&&!(typeof O.mimeTypes!=A&&O.mimeTypes[W]&&!O.mimeTypes[W].enabledPlugin)){ca=true;v=false;x=x.replace(/^.*\s+(\S+\s+\S+$)/,"$1");D[0]=parseInt(x.replace(/^(.*)\..*$/,"$1"),10);D[1]=parseInt(x.replace(/^.*\.(.*)\s.*$/,"$1"),10);D[2]=/[a-zA-Z]/.test(x)?parseInt(x.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else if(typeof J.ActiveXObject!=A)try{var H=new ActiveXObject(la);if(H){x=H.GetVariable("$version");if(x){v=true;x=x.split(" ")[1].split(",");D=[parseInt(x[0],10),
parseInt(x[1],10),parseInt(x[2],10)]}}}catch(E){}return{w3:h,pv:D,wk:u,ie:v,win:o,mac:q}}();var na=function(){if(!p.w3)return;if(typeof t.readyState!=A&&t.readyState=="complete"||typeof t.readyState==A&&(t.getElementsByTagName("body")[0]||t.body))a();if(!P){if(typeof t.addEventListener!=A)t.addEventListener("DOMContentLoaded",a,false);if(p.ie&&p.win){t.attachEvent(ia,function(){if(t.readyState=="complete"){t.detachEvent(ia,arguments.callee);a()}});if(J==top)(function(){if(P)return;try{t.documentElement.doScroll("left")}catch(h){setTimeout(arguments.callee,
0);return}a()})()}if(p.wk)(function(){if(P)return;if(!/loaded|complete/.test(t.readyState)){setTimeout(arguments.callee,0);return}a()})();b(a)}}();var oa=function(){if(p.ie&&p.win)window.attachEvent("onunload",function(){var h=R.length;for(var j=0;j<h;j++)R[j][0].detachEvent(R[j][1],R[j][2]);var l=Z.length;for(var o=0;o<l;o++)w(Z[o]);for(var q in p)p[q]=null;p=null;for(var u in swfobject)swfobject[u]=null;swfobject=null})}();return{registerObject:function(h,j,l,o){if(p.w3&&h&&j){var q={};q.id=h;q.swfVersion=
j;q.expressInstall=l;q.callbackFn=o;N[N.length]=q;I(h,false)}else if(o)o({success:false,id:h})},getObjectById:function(h){if(p.w3)return g(h)},embedSWF:function(h,j,l,o,q,u,v,D,x,H){var E={success:false,id:j};if(p.w3&&!(p.wk&&p.wk<312)&&h&&j&&l&&o&&q){I(j,false);e(function(){l+="";o+="";var F={};if(x&&typeof x===L)for(var ja in x)F[ja]=x[ja];F.data=h;F.width=l;F.height=o;var S={};if(D&&typeof D===L)for(var ka in D)S[ka]=D[ka];if(v&&typeof v===L)for(var $ in v)if(typeof S.flashvars!=A)S.flashvars+=
"&"+$+"="+v[$];else S.flashvars=$+"="+v[$];if(K(q)){var ma=y(F,S,j);if(F.id==j)I(j,true);E.success=true;E.ref=ma}else if(u&&m()){F.data=u;k(F,S,j,H);return}else I(j,true);if(H)H(E)})}else if(H)H(E)},switchOffAutoHideShow:function(){fa=false},ua:p,getFlashPlayerVersion:function(){return{major:p.pv[0],minor:p.pv[1],release:p.pv[2]}},hasFlashPlayerVersion:K,createSWF:function(h,j,l){if(p.w3)return y(h,j,l);else return undefined},showExpressInstall:function(h,j,l,o){if(p.w3&&m())k(h,j,l,o)},removeSWF:function(h){if(p.w3)w(h)},
createCSS:function(h,j,l,o){if(p.w3)U(h,j,l,o)},addDomLoadEvent:e,addLoadEvent:b,getQueryParamValue:function(h){var j=t.location.search||t.location.hash;if(j){if(/\?/.test(j))j=j.split("?")[1];if(h==null)return ga(j);var l=j.split("&");for(var o=0;o<l.length;o++)if(l[o].substring(0,l[o].indexOf("="))==h)return ga(l[o].substring(l[o].indexOf("=")+1))}return""},expressInstallCallback:function(){if(X){var h=B(ea);if(h&&T){h.parentNode.replaceChild(T,h);if(Y){I(Y,true);if(p.ie&&p.win)T.style.display=
"block"}if(aa)aa(da)}X=false}}}}();function initialiseTabs(){if(jQ("ul.tabs")){var a=jQ("ul.tabs:not(.fake) li a");var e=jQ("ul.tabs:not(.fake) li a.active");var b;for(i=0;i<=e.length-1;i++){b="#"+e[i].href.split("#")[1];jQ(b).removeClass("initially-off")}jQ(a).click(function(d){if(jQ(this).is(".inactive")){var c=jQ(this).parents("div").get(0);var f=jQ(c).find("ul.tabs:not(.fake) li a.active");var g="#"+this.href.split("#")[1];var m=jQ(f).attr("href");var k="#"+m.split("#")[1];jQ(f).attr("class","inactive");jQ(this).attr("class","active");
jQ(g).show();jQ(k).hide()}d.preventDefault()})}}jQ(document).ready(function(){initialiseTabs()});ensurePackage("guardian.r2");guardian.r2.ThirdPartyReferralCookieService=function(){function a(b,d,c){document.cookie=b+"="+d+"; domain="+c+"; path=/"}function e(b){var d=b.split(".");if(d.length<=1)return d[0];var c="";for(var f=1;f<d.length;f++)c+="."+d[f];return c}this.setThirdPartyReferralCookie=function(){var b=window.location.search;if(b){var d=b.substring(1).split("&");for(var c=0;c<d.length;c++){var f=d[c].split("=");if(f[0]==="CMP"){var g=e(window.location.hostname);a("CMP",f[1],g)}}}}};jQ(document).ready(function(){var a=document.getElementsByTagName("img");var e=[];forEachElementOf(a,function(c){e.push(c)});var b=/([a-zA-Z]+)-mask/;var d=/^a$|^div/i;forEachElementOf(e,function(c){var f=b.exec(c.className);if(f&&c.parentNode.nodeName.match(d)){var g=f[1];applyImageMaskImmediate(c,g)}})});
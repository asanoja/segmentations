<script src="jquery-min.js"></script>
<script>
var urls = [];
	
function add2log(s) {
	var opt = document.createElement("option");
	opt.innerHTML = s;
	logobj = document.getElementById("log");
	logobj.options[0].selected = false;
	logobj.insertBefore(opt,logobj.options[0]);
	opt.selected = true;
	console.log(s);
}
function add2struc(struc,level,s,events) {
	obj = document.getElementById(struc);
	var spc = "";
	for (var i=0;i<level;i++) 
		spc+="&nbsp;&nbsp;&nbsp;";
	if (events) {
		var ts = document.createElement("p");
		//~ ts.setAttribute("onmouseover=\""+hover+"\"");
		//~ ts.setAttribute("onmouseout=\""+hout+"\"");
		ts.innerHTML=spc+s;
	} else
		var ts = document.createTextNode(s);
	obj.appendChild(ts);
}
function loadPage() {
	var url = parent.topDocument.getElementById("url").value;
	if (parent.contentWindow && parent.contentWindow.closed) {
		parent.contentWindow = undefined;
	} 
	setTimeout("parent.contentWindow 	= window.open('"+url+"','_bomwin','left=0,top=0,width=1024,height=768');",500);
	document.getElementById("wprima").innerHTML="";
	document.getElementById("vbtree").innerHTML="";
	document.getElementById("export").innerHTML="";
	for (var k=0;k<parent.outputDocument.body.childNodes.length;k++) {
		var nd = parent.outputDocument.body.childNodes[k];
		if (nd) parent.outputDocument.body.removeChild(nd);
	}
	parent.frames[1].location.href = "blank.html";
}

function over(obj,container) {
	obj.style.borderColor = "red";
	//~ obj.scrollIntoView(true);
	obj.style.backgroundColor = "red";
	obj.style.zIndex="200000"
	obj.style.opacity = "0.5";
	container.style.backgroundColor = "red";
	
}

function out(obj,container) {
	obj.style.borderColor = parent.colors[obj.getAttribute("bomtype")];
	obj.style.backgroundColor = "transparent";
	container.style.backgroundColor = "transparent";
}

function loadURLS() {
	var opt;
	for (var i=document.getElementById("url").options.length-1;i>0;i--) {
		document.getElementById("url").removeChild(document.getElementById("url").options[i]);
	}
	var k=1;
	for (var i=0; i<urls.length; i++) {
		opt = document.createElement("option")
		opt.value = urls[i];
		
		
			if (urls[i].indexOf("-")==0) {
				opt.text = urls[i];
				opt.style.backgroundColor="#A52A2A";
				opt.style.color = "white";
			} else {
				opt.text = k +". " +urls[i];
			}
		
		if (urls[i].indexOf("-")!=0) k++;
		document.getElementById("url").appendChild(opt);
	}
}

window.onload = function() {
	loadURLS();
}

function startSegmentation() {
	
}

</script>
<script src="spider/urllist.js"></script>
<form>Granularity
<select name="gran" id="gran">
<option value="0.9">1</option>
<option value="0.8">2</option>
<option value="0.7">3</option>
<option value="0.6">4</option>
<option value="0.5" selected>5</option>
<option value="0.4">6</option>
<option value="0.3">7</option>
<option value="0.2">8</option>
<option value="0.1">9</option>
<!--
<option value="0.0">10</option>
-->
</select>	
Minimum separation:
<input type="text" name="sdc" id="sdc" value="50" size="3">px
<!--
URL: <input type="text" name="url" id="url" value="http://www.upmc.fr/" size="40">
-->
<select name="url" id="url">
<option value="">[-- URL --]</option>
</select>
<input type="button" value="Load"  onclick="loadPage()">
<input type="button" value="Segment"  onclick="parent.doSegmentation()">
<input type="button" value="Next"  onclick="parent.next()">
<br>
<span style="display:none">
<b>Content Structure:<br></b>
<textarea id='content' style='width:100%' rows="5"></textarea><br>
<b>Geometric Structure:<br></b>
<textarea id='geometric' style='width:100%' rows="5"></textarea><br>
<b>Logic Structure:<br></b>
<textarea id='logic' style='width:100%' rows='10'></textarea><br>
</span>
export info:<br>
<textarea id='export' name='export' style='width:100%' rows='10'></textarea><br>
W':<br>
<textarea id='wprima' name='wprima' style='width:100%' rows='10'></textarea><br>
VBTree:<br>
<div id='vbtree' name='vbtree' style='width:100%' rows='10'></div><br>
</form>
<br>
<select name='log' id='log' multiple size='3' style='width:100%'>
<option>Segmentation log</option>
</select>
